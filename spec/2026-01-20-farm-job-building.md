## Context
- Goal: add a farm job building that produces grain based on biome fertility so colony growth can progress toward Milestone 3.
- Existing job/building flow lives in `backend/src/fantasia/sim/jobs.clj` (job definitions, build completion, harvest jobs).
- Provider job generation lives in `backend/src/fantasia/sim/jobs/providers.clj` (structure providers -> jobs).
- Biome metadata currently lives in `backend/src/fantasia/sim/biomes.clj` (biome definitions, resource spawn).
- Frontend structure rendering lives in `web/src/components/SimulationCanvas.tsx` with colors in `web/src/config/constants.ts`.

## Existing Issues / PRs
- Issue: #4 Milestone 3 â€” Colony Job Loop (open).
- Issue: #14 Update roadmap docs to reflect completed milestones (open).
- PRs: none found via `gh pr list`.

## Requirements
- Add a new `:farm` job building that can be constructed via builder jobs.
- Farm job should create grain yields based on biome fertility at the farm tile.
- Biome definitions must expose fertility values and the farm job must consume them.
- Farm must store grain similarly to other harvest structures (stockpile or items on tile).
- UI should render the farm structure distinctly on the map.
- Add a `/docs/notes` entry documenting the new farm behavior and fertility mapping.

## Definition of Done
- `:farm` structure is buildable and produces grain via its own job type.
- Farm yield scales by biome fertility and results in grain stored at the farm tile.
- Farm jobs are generated by provider job logic and respect stockpile space.
- UI renders farms with a new color/shape.
- Notes updated in `/docs/notes` describing new farm + fertility behavior.

## Planned Touch Points
- `backend/src/fantasia/sim/biomes.clj:53` (biome fertility values, `biome-fertility`).
- `backend/src/fantasia/sim/jobs.clj:11` (job priority, provider config, farm completion).
- `backend/src/fantasia/sim/jobs/providers.clj:155` (farm job generation for providers).
- `backend/src/fantasia/sim/spatial_facets.clj:141` (farm entity facets).
- `web/src/config/constants.ts:51` (farm structure color).
- `web/src/components/SimulationCanvas.tsx:315` (farm rendering).
- `docs/notes/2026-01-20-farm-grain-fertility.md` (new note entry).

## Change Log
- Added biome fertility values and a farm job/building that produces grain based on those values.
- Added farm provider job generation, UI rendering, and notes/test coverage.
