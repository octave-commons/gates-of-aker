
1) Resolution system: from Moves → Effects → World Events
=========================================================

1.1 Data you need (smallest viable)
-----------------------------------

*   **Influence**: `influence[deity][target] ∈ [0..1]`

*   **Belief**: per group, claims with `{confidence, alignment}`

*   **Edges**: routes / relationships have `{latency, visibility, corruption, security}`

*   **Budgets**: `favor`, `cred`, `attention`

*   **Recency**: tags like `["raid:sabotage", "trial", "relief"]` with decay timers


### Simple “world clock”

*   `phase = Day | Night`

*   `tick` increments at Aker boundaries (dawn/dusk)


* * *

1.2 The move pipeline
---------------------

```mermaid
flowchart TD
  A[Aker Boundary] --> B[Collect Move Candidates<br/>from each deity]
  B --> C[Validate Preconditions]
  C --> D[Group by Target Conflicts<br/>(same target/edge/claim)]
  D --> E[Resolve Collisions<br/>strength + noise]
  E --> F[Apply World Effects]
  F --> G[Enqueue World Events<br/>(agent/faction reactions)]
  G --> H[Update Beliefs + Budgets + Recency]
  H --> I[Next Phase]
```

* * *

1.3 Collision grouping (the “many storytellers” core)
-----------------------------------------------------

Two moves _collide_ if they touch the same **conflict key**.

**Conflict key examples**

*   `loc:Hermopolis.market`

*   `route:RoyalRoad.segment12`

*   `claim:ChampionIsTyrant`

*   `person:SatrapX`


Each move declares:

*   `primaryKeys[]` (what it directly changes)

*   `secondaryKeys[]` (what it indirectly pressures)


You collide on `primaryKeys`.

* * *

1.4 Deterministic + noise resolution
------------------------------------

### Strength

For each move $m$:

$$S(m)= w_i I + w_f F - w_a A + w_c C - w_r R + w_d D$$

Where:

*   $I$ = influence on target (0..1)

*   $F$ = favor spent (scaled 0..1)

*   $A$ = attention penalty (0..1)

*   $C$ = credibility bonus (0..1)

*   $R$ = recency penalty (0..1)

*   $D$ = defender resistance (Sun-law, Moon-veil, etc.)


Pick weights like:

*   $w_i=2.0, w_f=1.5, w_a=1.0, w_c=1.0, w_r=1.2, w_d=1.5$


### Noise (seeded)

Noise shouldn’t feel like “random lightning”; it should feel like **uncertainty**.

Let:

$$\epsilon = \text{noise}(\text{worldSeed}, \text{tick}, \text{conflictKey}) \in [-0.25, +0.25]$$

Then:

$$S'(m)=S(m)+\epsilon$$

### Winner + runner-up becomes complication

*   Winner gets **Primary Effect**

*   Runner-up becomes **Complication Effect** (a smaller, sideways consequence)


This prevents “I lost so nothing happened” and keeps narrative richness.

* * *

1.5 Minimal JS-ish pseudocode (drop-in shape)
---------------------------------------------

```js
function resolveConflict(conflictKey, moves, ctx) {
  // ctx has influence(), recencyPenalty(), resistance(), seededNoise()
  const scored = moves.map(m => {
    const I = ctx.influence(m.deityId, m.targetId);           // 0..1
    const F = clamp01(m.cost.favor / ctx.favorScale);         // 0..1
    const A = clamp01(m.cost.attention / ctx.attentionScale); // 0..1
    const C = clamp01(ctx.cred(m.deityId));                   // 0..1
    const R = clamp01(ctx.recencyPenalty(m.tags));            // 0..1
    const D = clamp01(ctx.resistance(m));                     // 0..1

   const S =
      2.0 * I +
      1.5 * F -
      1.0 * A +
      1.0 * C -
      1.2 * R -
      1.5 * D;

   const eps = ctx.seededNoise(ctx.seed, ctx.tick, conflictKey); // [-0.25..0.25]
    return { m, S: S + eps };
  });

 scored.sort((a, b) => b.S - a.S);
  const win = scored[0];
  const runner = scored[1] ?? null;

 return {
    winner: win.m,
    complication: runner ? runner.m : null,
    // margin is useful for “how clean” the outcome is
    margin: runner ? (win.S - runner.S) : 999
  };
}
```

* * *

2) Telegraphs: how you make it feel logical
===========================================

Every move emits a **Sign** immediately, but visibility depends on channels.

### Sign object

*   `type`: `omens | gossip | patrolPrep | missingAnimal | pamphlets`

*   `origin`: location/person/institution

*   `visibility`: who can detect it (by routes, proximity, skills, phase)

*   `meaning`: optional (sometimes misleading if Moon meddles)


**Rule:** players should _often_ notice a sign **one phase before** the event resolves.

Example:

*   Sun’s _Dawn Decree_ → “scribes working late, extra patrol orders”

*   Moon’s _Veilwalk_ → “lanterns fail, watchers uneasy”

*   Herald’s _Dream Courier_ → “NPC restless, odd phrasing, sudden certainty”


This replaces “random raid” with “we saw it coming, we just didn’t know which form.”

* * *

3) Event-family generators (the anti-samey engine)
==================================================

Moves should not directly become “events”. Moves become **pressures** that create **candidate event chains**.

3.1 The pattern
---------------

Each family is:

*   **Trigger condition** (graph facts)

*   **Telegraph step(s)**

*   **Escalation step(s)**

*   **Resolution step**

*   **Aftermath graph edits** (new edges/claims/baggage)


### Generic chain template

```mermaid
flowchart LR
  T[Telegraph] --> E1[Escalation 1] --> E2[Escalation 2] --> R[Resolution] --> A[Aftermath]
```

* * *

3.2 Six core event families (enough to feel alive)
--------------------------------------------------

### Family A — **Ultimatum → Raid → Feud** (not just “raid”)

**Trigger:** hostile faction + learns weakness (Herald route change, Moon doubt, Sun legitimacy drop)
**Telegraph:** scouts seen, market prices spike, border rumors
**Escalation options:** demand tribute / hostage / apology / surrender contraband
**Resolution:** fight / pay / negotiate / ambush / legal dispute
**Aftermath:** feud edge, reputation deltas, new contracts, revenge clock

**Which god shapes it:**

*   Herald ⇒ more ultimatum/demand diplomacy

*   Moon ⇒ sabotage/false-flag/quiet incursion

*   Sun ⇒ formal declaration and public justification


* * *

### Family B — **Trial → Verdict → Enforcement**

**Trigger:** public claim + institutional presence (Sun influence)
**Telegraph:** witnesses summoned, scribes, crowd gathering
**Escalation:** counter-testimony, forged seals, intimidation (Moon), leaks (Herald)
**Resolution:** verdict sets canon (or splits community)
**Aftermath:** legitimacy shift, new law edges, imprisonment/exile, schism if contested

This is how you “make sense” of narrative wars.

* * *

### Family C — **Schism → Cult Formation → Purge/Reconciliation**

**Trigger:** high doubt + competing canon claims
**Telegraph:** pamphlets, symbols, secret meetings
**Escalation:** recruitment drives, iconoclastic events, miracle claims
**Resolution:** purge (Sun), merger/syncretism (Herald), underground survival (Moon)
**Aftermath:** new faction nodes, new taboos, new alliance constraints

This is where your “myth engine” becomes visible.

* * *

### Family D — **Trade Boom → Scarcity → Black Market**

**Trigger:** route changes + resource imbalance
**Telegraph:** price movement, caravans reroute, missing goods
**Escalation:** rationing (Sun), smuggling (Moon), parley (Herald)
**Resolution:** new charter, new monopoly, riots, relief
**Aftermath:** contracts, corruption edges, route security changes

This generates conflict without needing “a raid” every time.

* * *

### Family E — **Wild Reckoning → Adaptation → Tradition**

**Trigger:** taboo breach or ecological stress (your lesser Warden)
**Telegraph:** animal behavior shifts, guides refuse, omens
**Escalation:** disease risk, predators migrate, storms on routes
**Resolution:** conservation law (Sun), blame narrative (Herald), hush bargains (Moon)
**Aftermath:** new taboo nodes + ritual practices + factional identity markers

This makes “animal spirit” gods matter without becoming moralizing RNG.

* * *

### Family F — **Succession / Retirement Arc** (your prestige loop)

**Trigger:** champion retirement or death threshold
**Telegraph:** omens + political maneuvering + candidate rumors
**Escalation:** rivals back candidates, scandals surface, contracts offered
**Resolution:** selection + rite (Aker boundary)
**Aftermath:** prestige distillation + inheritance + baggage + canon updates

This is your “campaign structure” generator.

* * *

4) How moves spawn event candidates (concrete mapping)
======================================================

Instead of: _“Veilwalk happened”_
You do:

*   Apply `Veil` modifier on a route/location

*   That modifier makes **certain event families more likely** and changes their parameters


### Example mapping table (short but powerful)

*   `Veil(route)` → boosts candidates:

    *   sabotage, kidnapping, smuggling, secret meeting

*   `TomorrowLaw(curfew)` → boosts:

    *   protests, black market, arrests, trial chains

*   `PublicClaim(accuse)` → boosts:

    *   duel, trial, schism, faction mobilization

*   `Intercept(message)` → boosts:

    *   ambush, diplomatic failure, mistaken retaliation

*   `Seal(claim)` → boosts:

    *   enforcement, crackdown, counter-forgery plot


This is where “samey events” die: the same ability produces different outcomes depending on what else is true.

* * *

5) Optional: your “fairness” correction, but diegetic
=====================================================

Keep RimWorld’s “it corrects when you get wrecked,” but attach it to **divine budgets** and **institutional capacity**.

*   When the player suffers heavy loss:

    *   their patron deity **loses attention** (less heat) but **gains urgency**

    *   allied institutions may trigger “Relief” candidates if they exist

    *   rivals may overextend (high attention) → openings appear


No pity drops. Just systems responding.

* * *

Next deliverable (I’ll do it the way you’re steering)
-----------------------------------------------------

If you say “continue” again, I’ll produce:

1.  A **minimal schema** for `Move`, `Sign`, `EventCandidate`, `BeliefClaim`

2.  A **candidate generator** function for each of the 6 families (small, parameterized)

3.  An **example tick** showing:

    *   3 gods submit moves

    *   collisions resolve

    *   2 event candidates spawn

    *   one resolves with telegraphs + aftermath graph edits
